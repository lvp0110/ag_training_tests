# AG Training Tests

Приложение для обучения и тестирования на основе React и Vite.

## Описание

Проект представляет собой веб-приложение для прохождения тестов, просмотра статей и работы с обучающими материалами.

## Технологии

- **React** ^19.1.1
- **React Router DOM** ^7.8.0
- **Vite** ^7.1.2
- **Recharts** ^3.2.1 (для графиков и визуализации данных)
- **ESLint** (для проверки качества кода)

## Установка и запуск

### Требования

- Node.js (рекомендуется версия 18 или выше)
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

### Сборка для production

```bash
npm run build
```

Собранные файлы будут находиться в папке `dist`

### Предпросмотр production сборки

```bash
npm run preview
```

### Проверка кода линтером

```bash
npm run lint
```

## Структура проекта

```
src/
├── pages/          # Страницы приложения
│   ├── Article.jsx      # Страница статьи
│   ├── ArticlesList.jsx # Список статей
│   ├── Card.jsx         # Карточки
│   ├── Solution.jsx     # Решение
│   └── Tests.jsx        # Тесты
├── assets/         # Изображения и другие ресурсы
├── App.jsx         # Главный компонент приложения
└── main.jsx        # Точка входа
```

## Скрипты

- `npm run dev` - запуск dev-сервера
- `npm run build` - сборка проекта
- `npm run preview` - предпросмотр production сборки
- `npm run lint` - проверка кода линтером

## Публикация проекта

### Важно!

⚠️ **При публикации проекта на сервер необходимо загружать содержимое папки `dist`, а не исходные файлы проекта!**

### Шаги для публикации:

1. **Соберите проект:**
   ```bash
   npm run build
   ```

2. **Загрузите на сервер содержимое папки `dist`:**
   - Все файлы из папки `dist` должны быть в корне вашего веб-сервера
   - Или в указанной директории, если проект размещается в подпапке

3. **Настройте сервер для SPA:**

   В зависимости от вашего хостинга используйте соответствующий конфигурационный файл:
   
   - **Apache** - используйте `.htaccess` (уже включен в проект)
   - **Netlify** - используйте `netlify.toml` (уже включен в проект)
   - **Vercel** - используйте `vercel.json` (уже включен в проект)
   - **GitHub Pages** - проект уже настроен для публикации в подпапке `/ag_training_tests/`
     
     **Вариант 1: Автоматическая публикация через GitHub Actions (рекомендуется)**
     
     Проект уже настроен с GitHub Actions workflow. Просто:
     1. Закоммитьте и запушьте изменения в ветку `main` или `master`
     2. GitHub Actions автоматически соберет и опубликует проект
     3. Включите GitHub Pages в настройках репозитория:
        - Settings > Pages > Source: выберите "GitHub Actions"
     
     **Вариант 2: Ручная публикация**
     
     1. Соберите проект: `npm run build`
     2. **ВАЖНО:** Скопируйте ВСЕ файлы из папки `dist/` в папку `docs/` в корне репозитория
        ```bash
        # Создайте папку docs, если её нет
        mkdir -p docs
        # Скопируйте все файлы из dist в docs
        cp -r dist/* docs/
        ```
     3. Закоммитьте и запушьте изменения:
        ```bash
        git add docs/
        git commit -m "Deploy to GitHub Pages"
        git push
        ```
     4. Настройте GitHub Pages:
        - Settings > Pages > Source: выберите "Deploy from a branch"
        - Branch: выберите `main` или `master`
        - Folder: выберите `/docs`
     
     ⚠️ **КРИТИЧЕСКИ ВАЖНО:** 
     - НЕ публикуйте исходный `index.html` из корня проекта (он содержит `/src/main.jsx`)
     - Публикуйте ТОЛЬКО файлы из папки `dist/` (там правильный `index.html` с путями к `/ag_training_tests/assets/...`)
     - Если вы видите ошибку `main.jsx:1 Failed to load resource`, значит на сервере используется исходный `index.html` вместо собранного!

### Решение проблем с 404 ошибками:

Если после публикации вы видите ошибки 404 для `main.jsx` или других файлов:

**Основная причина:** На сервере используется исходный `index.html` вместо собранного из папки `dist/`

**Решение:**

1. ✅ **Проверьте, что вы опубликовали правильные файлы:**
   - Откройте опубликованный `index.html` на сервере
   - Он должен содержать пути вида `/ag_training_tests/assets/index-XXXXX.js`
   - Если вы видите `/src/main.jsx` - значит опубликован исходный файл!

2. ✅ **Убедитесь, что вы загрузили собранные файлы из папки `dist`**, а не исходные файлы:
   ```bash
   # Проверьте содержимое папки dist
   ls -la dist/
   # Должны быть: index.html, assets/, AN_GC_logo.jpg, .htaccess, _redirects
   ```

3. ✅ **Для GitHub Pages:**
   - Убедитесь, что в папке `docs/` (или в ветке `gh-pages`) находятся файлы из `dist/`
   - Проверьте настройки GitHub Pages - должна быть выбрана папка `docs` или ветка `gh-pages`

4. ✅ **Очистите кэш браузера:** Ctrl+Shift+R (Windows/Linux) или Cmd+Shift+R (Mac)

5. ✅ **Проверьте конфигурацию:**
   - `base: '/ag_training_tests/'` в `vite.config.js` (уже настроено)
   - `basename="/ag_training_tests"` в `BrowserRouter` (уже настроено)

## Настройка API

Приложение использует API endpoints `/answers` и `/check` для работы с тестами.

### Разработка

В режиме разработки API работает через proxy, настроенный в `vite.config.js`:
- `/answers` → `http://localhost:3000/answers`
- `/check` → `http://localhost:3000/check`

### Production

Для production необходимо настроить базовый URL API сервера. Подробные инструкции см. в файле [API_CONFIG.md](./API_CONFIG.md).

**Быстрая настройка:**

1. Создайте файл `.env.production` в корне проекта:
   ```
   VITE_API_BASE_URL=http://your-api-server.com
   ```

2. Пересоберите проект:
   ```bash
   npm run build
   ```

3. Опубликуйте обновленную версию

## Лицензия

© AN Game Card
